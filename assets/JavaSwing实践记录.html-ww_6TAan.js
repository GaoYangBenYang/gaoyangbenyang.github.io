const n=JSON.parse('{"key":"v-fc950aea","path":"/Blog/JavaSwing%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95.html","title":"JavaSwing实践记录","lang":"zh-CN","frontmatter":{"title":"JavaSwing实践记录","icon":"java","sticky":true,"star":true,"category":["Java"],"tag":["Java Swing"],"pageInfo":["Author","Date","ReadingTime","Word","Category","Tag"],"description":"1.将JPanel保存为png /**导出曲线图*/ private void SaveCurve() { try { //文件选择器 JFileChooser fileChooser = new JFileChooser(); //移除全部文件 fileChooser.removeChoosableFileFilter(fileChooser.getAcceptAllFileFilter()); //后缀名过滤器，只显示.plc和.png FileNameExtensionFilter filterPng = new FileNameExtensionFilter(\\"*.png\\", \\"png\\"); fileChooser.setFileFilter(filterPng); FileNameExtensionFilter filterPlc = new FileNameExtensionFilter(\\"*.plc\\", \\"plc\\"); fileChooser.setFileFilter(filterPlc); //保存按钮 int save = fileChooser.showSaveDialog(null); //用户点击保存，进行保存操作 if (save == JFileChooser.APPROVE_OPTION) { File file = fileChooser.getSelectedFile(); //判断保存的格式是.plc还是.png FileFilter fileFilter = fileChooser.getFileFilter(); if (\\"*.plc\\".equals(fileFilter.getDescription())) { } else if (\\"*.png\\".equals(fileFilter.getDescription())) { //获取画布数据 Dimension imagesize = this.drawPanel.getSize(); BufferedImage bufferedImage = new BufferedImage(imagesize.width, imagesize.height, BufferedImage.TYPE_INT_RGB); Graphics2D g2 = bufferedImage.createGraphics(); this.drawPanel.paint(g2); g2.dispose(); File filePng = new File(file.getPath() + \\".png\\"); //文件不存在创建文件 if (!filePng.exists()) { filePng.createNewFile(); //保存文件 ImageIO.write(bufferedImage, \\"png\\", filePng); JOptionPane.showMessageDialog(null, \\"保存成功！\\"); } else { //确认是否覆盖 int opt = JOptionPane.showConfirmDialog(null, \\"文件已存在，是否覆盖?\\", \\"确认\\", JOptionPane.YES_NO_OPTION); if (opt == JOptionPane.YES_OPTION) { //保存文件 ImageIO.write(bufferedImage, \\"png\\", filePng); JOptionPane.showMessageDialog(null, \\"保存成功！\\"); } } } } } catch (Exception e) { e.printStackTrace(); } }","head":[["meta",{"property":"og:url","content":"https://gaoyangbenyang.github.io/Blog/JavaSwing%E5%AE%9E%E8%B7%B5%E8%AE%B0%E5%BD%95.html"}],["meta",{"property":"og:site_name","content":"Blogs & Notes"}],["meta",{"property":"og:title","content":"JavaSwing实践记录"}],["meta",{"property":"og:description","content":"1.将JPanel保存为png /**导出曲线图*/ private void SaveCurve() { try { //文件选择器 JFileChooser fileChooser = new JFileChooser(); //移除全部文件 fileChooser.removeChoosableFileFilter(fileChooser.getAcceptAllFileFilter()); //后缀名过滤器，只显示.plc和.png FileNameExtensionFilter filterPng = new FileNameExtensionFilter(\\"*.png\\", \\"png\\"); fileChooser.setFileFilter(filterPng); FileNameExtensionFilter filterPlc = new FileNameExtensionFilter(\\"*.plc\\", \\"plc\\"); fileChooser.setFileFilter(filterPlc); //保存按钮 int save = fileChooser.showSaveDialog(null); //用户点击保存，进行保存操作 if (save == JFileChooser.APPROVE_OPTION) { File file = fileChooser.getSelectedFile(); //判断保存的格式是.plc还是.png FileFilter fileFilter = fileChooser.getFileFilter(); if (\\"*.plc\\".equals(fileFilter.getDescription())) { } else if (\\"*.png\\".equals(fileFilter.getDescription())) { //获取画布数据 Dimension imagesize = this.drawPanel.getSize(); BufferedImage bufferedImage = new BufferedImage(imagesize.width, imagesize.height, BufferedImage.TYPE_INT_RGB); Graphics2D g2 = bufferedImage.createGraphics(); this.drawPanel.paint(g2); g2.dispose(); File filePng = new File(file.getPath() + \\".png\\"); //文件不存在创建文件 if (!filePng.exists()) { filePng.createNewFile(); //保存文件 ImageIO.write(bufferedImage, \\"png\\", filePng); JOptionPane.showMessageDialog(null, \\"保存成功！\\"); } else { //确认是否覆盖 int opt = JOptionPane.showConfirmDialog(null, \\"文件已存在，是否覆盖?\\", \\"确认\\", JOptionPane.YES_NO_OPTION); if (opt == JOptionPane.YES_OPTION) { //保存文件 ImageIO.write(bufferedImage, \\"png\\", filePng); JOptionPane.showMessageDialog(null, \\"保存成功！\\"); } } } } } catch (Exception e) { e.printStackTrace(); } }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-01-16T04:04:45.000Z"}],["meta",{"property":"article:author","content":"高洋"}],["meta",{"property":"article:tag","content":"Java Swing"}],["meta",{"property":"article:modified_time","content":"2024-01-16T04:04:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JavaSwing实践记录\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-01-16T04:04:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"高洋\\",\\"url\\":\\"https://github.com/GaoYangBenYang\\",\\"email\\":\\"GaoYangBenYang@outlook.com\\"}]}"]]},"headers":[{"level":2,"title":"1.将JPanel保存为png","slug":"_1-将jpanel保存为png","link":"#_1-将jpanel保存为png","children":[]}],"git":{"createdTime":1705377885000,"updatedTime":1705377885000,"contributors":[{"name":"gaoyang","email":"gaoyangbenyang@outlook.com","commits":1}]},"readingTime":{"minutes":0.91,"words":274},"filePathRelative":"Blog/JavaSwing实践记录.md","localizedDate":"2024年1月16日","excerpt":"<h2> 1.将JPanel保存为png</h2>\\n<div class=\\"language-java line-numbers-mode\\" data-ext=\\"java\\"><pre class=\\"language-java\\"><code>    <span class=\\"token doc-comment comment\\">/**导出曲线图*/</span>\\n    <span class=\\"token keyword\\">private</span> <span class=\\"token keyword\\">void</span> <span class=\\"token class-name\\">SaveCurve</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">try</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token comment\\">//文件选择器</span>\\n            <span class=\\"token class-name\\">JFileChooser</span> fileChooser <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">JFileChooser</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token comment\\">//移除全部文件</span>\\n            fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">removeChoosableFileFilter</span><span class=\\"token punctuation\\">(</span>fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getAcceptAllFileFilter</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token comment\\">//后缀名过滤器，只显示.plc和.png</span>\\n            <span class=\\"token class-name\\">FileNameExtensionFilter</span> filterPng <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">FileNameExtensionFilter</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"*.png\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"png\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setFileFilter</span><span class=\\"token punctuation\\">(</span>filterPng<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token class-name\\">FileNameExtensionFilter</span> filterPlc <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">FileNameExtensionFilter</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"*.plc\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"plc\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">setFileFilter</span><span class=\\"token punctuation\\">(</span>filterPlc<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token comment\\">//保存按钮</span>\\n            <span class=\\"token keyword\\">int</span> save <span class=\\"token operator\\">=</span> fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">showSaveDialog</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n            <span class=\\"token comment\\">//用户点击保存，进行保存操作</span>\\n            <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>save <span class=\\"token operator\\">==</span> <span class=\\"token class-name\\">JFileChooser</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">APPROVE_OPTION</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                <span class=\\"token class-name\\">File</span> file <span class=\\"token operator\\">=</span> fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getSelectedFile</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                <span class=\\"token comment\\">//判断保存的格式是.plc还是.png</span>\\n                <span class=\\"token class-name\\">FileFilter</span> fileFilter <span class=\\"token operator\\">=</span> fileChooser<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getFileFilter</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"*.plc\\"</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">equals</span><span class=\\"token punctuation\\">(</span>fileFilter<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getDescription</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n\\n                <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">else</span> <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"*.png\\"</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">equals</span><span class=\\"token punctuation\\">(</span>fileFilter<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getDescription</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                    <span class=\\"token comment\\">//获取画布数据</span>\\n                    <span class=\\"token class-name\\">Dimension</span> imagesize <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>drawPanel<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getSize</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token class-name\\">BufferedImage</span> bufferedImage <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">BufferedImage</span><span class=\\"token punctuation\\">(</span>imagesize<span class=\\"token punctuation\\">.</span>width<span class=\\"token punctuation\\">,</span> imagesize<span class=\\"token punctuation\\">.</span>height<span class=\\"token punctuation\\">,</span> <span class=\\"token class-name\\">BufferedImage</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">TYPE_INT_RGB</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token class-name\\">Graphics2D</span> g2 <span class=\\"token operator\\">=</span> bufferedImage<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">createGraphics</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>drawPanel<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">paint</span><span class=\\"token punctuation\\">(</span>g2<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    g2<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">dispose</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token class-name\\">File</span> filePng <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">File</span><span class=\\"token punctuation\\">(</span>file<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getPath</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">+</span> <span class=\\"token string\\">\\".png\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token comment\\">//文件不存在创建文件</span>\\n                    <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">!</span>filePng<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">exists</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                        filePng<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">createNewFile</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                        <span class=\\"token comment\\">//保存文件</span>\\n                        <span class=\\"token class-name\\">ImageIO</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">write</span><span class=\\"token punctuation\\">(</span>bufferedImage<span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"png\\"</span><span class=\\"token punctuation\\">,</span> filePng<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                        <span class=\\"token class-name\\">JOptionPane</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">showMessageDialog</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"保存成功！\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                    <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">else</span> <span class=\\"token punctuation\\">{</span>\\n                        <span class=\\"token comment\\">//确认是否覆盖</span>\\n                        <span class=\\"token keyword\\">int</span> opt <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">JOptionPane</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">showConfirmDialog</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"文件已存在，是否覆盖?\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"确认\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token class-name\\">JOptionPane</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">YES_NO_OPTION</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                        <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>opt <span class=\\"token operator\\">==</span> <span class=\\"token class-name\\">JOptionPane</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">YES_OPTION</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n                            <span class=\\"token comment\\">//保存文件</span>\\n                            <span class=\\"token class-name\\">ImageIO</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">write</span><span class=\\"token punctuation\\">(</span>bufferedImage<span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"png\\"</span><span class=\\"token punctuation\\">,</span> filePng<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                            <span class=\\"token class-name\\">JOptionPane</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">showMessageDialog</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"保存成功！\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n                        <span class=\\"token punctuation\\">}</span>\\n                    <span class=\\"token punctuation\\">}</span>\\n\\n                <span class=\\"token punctuation\\">}</span>\\n            <span class=\\"token punctuation\\">}</span>\\n        <span class=\\"token punctuation\\">}</span> <span class=\\"token keyword\\">catch</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">Exception</span> e<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            e<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">printStackTrace</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span>\\n    <span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"高洋","license":"MIT"},"autoDesc":true}');export{n as data};
